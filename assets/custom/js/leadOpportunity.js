$(document).ready(function() {

    table.url = window.baseUrl + 'lead/get/leadopportunity' + window.customeFilter;

    // table.url = window.baseUrl+'leadopportunity/get/leadopportunity'+window.customeFilter;



    // table.url = window.baseUrl+'leadopportunity/get/leadopportunity'+window.customeFilter;



    table.columns = [

            // { "data": "checkbox", "name": "checkbox", "title": "checkbox" },

            // { "data": "name", "name": "name", "title": "Departments" }



            { "data": "lead_opportunity_id", "name": "lead_opportunity_id", "title": "<input name='select_all' type='checkbox' id='ckbCheckAll'>" },

            { "data": "newActivity", "name": "lead_opportunity_id", "title": "" },

            { "data": "opportunity_title", "name": "opportunity_title", "title": "Opportunity Type" },

            { "data": "created_date", "name": "created_date", "title": "Created Date" },

            { "data": "projected_sales_date", "name": "projected_sales_date", "title": "Projected Contract date" },

            { "data": "username", "name": "username", "title": "Client Name" },

            { "data": "company_name", "name": "company_name", "title": "Company" },

            //{ "data": "status", "name": "status", "title": "Status" },

            { "data": "age", "name": "age", "title": "Age" },

            { "data": "confidence", "name": "confidence", "title": "Conversion Probability" },

            // { "data": "est_revenue_from", "name": "est_revenue_from", "title": "$ Est Revenue Min" },

            // { "data": "est_revenue_to", "name": "est_revenue_to", "title": "$ Est Revenue Max" },

            { "data": "username3", "name": "sales_people", "title": "Lead Generated By" },

            { "data": "source", "name": "source", "title": "Source" },

            { "data": "activity_date", "name": "activity_date", "title": "Last Contacted" }

            // { "data": "state", "name": "state", "title": "State" },

            // { "data": "country", "name": "country", "title": "Country" }

        ],

        table.columnDefs = [

            {

                "render": function(data, type, row) {

                    return '<input name="id" value="' + data + '" class="checkBoxClass" type="checkbox">';

                },

                "targets": 0,

                "orderable": false

            },

            {

                "render": function(data, type, row) {

                    return '<a href="#" class="edit-company" data-url="' + window.baseUrl + 'activity/addform/' + window.userType + '/' + row.lead_opportunity_id + '" data-toggle="modal" data-target="#modal">' + data + '</a>';

                },

                "targets": 1,

                "orderable": false

            },

            {

                "render": function(data, type, row) {

                    return '<a href="#" class="edit-company" data-url="' + window.baseUrl + 'lead/form/' + window.userType + '/' + row.lead_opportunity_id + '" data-toggle="modal" data-target="#modal">' + data + '</a>';

                },

                "targets": 2

            },

            {

                "render": function(data, type, row) {

                    return '<a href="#" class="edit-company" data-url="' + window.baseUrl + 'lead/update/userdata/' + row.userId + '" data-toggle="modal" data-target="#modal">' + data + '</a>';

                },

                "targets": 5

            }

        ];

    table.createDataTable();

    $(document).on('click', '.edit-company', function() {

        thisObj = $(this);

        var url = thisObj.data('url');

        ajax.init();

        ajax.method = 'get';

        ajax.url = url;

        ajax.ajaxCall(ajax.displayFormActivity);

        // document.getElementById("pemail").required = false;
        $('#pemail').removeAttr('required');
    });



    // $(document).on('click','.addOpportunity',function () {

    //   thisObj = $(this);

    //   var url = thisObj.data('url');

    //   ajax.init();

    //   ajax.method ='get';

    //   ajax.url = url;

    //   ajax.ajaxCall(ajax.displayFormActivity);

    // });



    for (var i = 0; i < window.moduleTabs.length; i++) {

        if (window.moduleTabs[i] == 'GridView') {

            GridView();

        } else if (window.moduleTabs[i] == 'Freez') {

            Freez();

        }

    }



    $('#exportExcel').click(function() {

        var list = $('#deleteRows').val();

        var arr = list.split(",");

        var fst = arr.splice(0, 1).join("");

        var rest = arr.join("_");

        var rest = rest.trim();

        var res = confirm("Do You Want To Export Selected Data Into Excel ?");

        if (rest == '') {

            alert('Please select atleast 1 record !');

        } else if (res) {

            window.location.href = window.baseUrl + 'lead/createExcel/' + rest;

        }

    });



});







$(document).ready(function() {

    $('#m_slider_1').change(function() {

        // alert("hello");



    });

});



$(function()

    {

        $(document).on('click', '.btn-add', function(e)

            {

                e.preventDefault();

                var controlForm = $('#myRepeatingLeadContact:first'),

                    currentEntry = $(this).parents('.entry:first'),

                    newEntry = $(currentEntry.clone()).appendTo(controlForm);

                newEntry.find('input').val('');

                controlForm.find('.entry:not(:last) .btn-add')

                .removeClass('btn-add').addClass('btn-remove')

                .removeClass('btn-success').addClass('btn-danger')

                .html(' <span><i class="la la-trash-o"></i><span>Delete</span></span>');

            }).on('click', '.btn-remove', function(e)

            {

                // e.preventDefault();

                // $(this).parents('.entry:first').remove();

                // return false;

            });

    });



function getExistCusUsr() {

    // alert("inside existing");

    var existUsrID = document.getElementById("existUId").value;





    // alert(existUsrID);

    ajax.ajaxCall(ajax.displayForm);



}



$(function()

    {

        $(document).on('click', '.btn-add', function(e)

            {

                e.preventDefault();

                var controlForm = $('#myRepeatingLeadContact:first'),

                    currentEntry = $(this).parents('.entry:first'),

                    newEntry = $(currentEntry.clone()).appendTo(controlForm);

                newEntry.find('input').val('');

                controlForm.find('.entry:not(:last) .btn-add')

                .removeClass('btn-add').addClass('btn-remove')

                .removeClass('btn-success').addClass('btn-danger')

                .html(' <span><i class="la la-trash-o"></i><span>Delete</span></span>');

            }).on('click', '.btn-remove', function(e)

            {

                // e.preventDefault();

                // $(this).parents('.entry:first').remove();

                // return false;

            });

    });





// $(function () {

$(document).ready(function() {

    // $.getScript('https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.0/js/ion.rangeSlider.min.js',function(){

    //         $("#m_slider_1").ionRangeSlider({

    //            type:"double",min:100,max:200,from:145,to:155,prefix:"Weight: ",postfix:" million pounds",decorate_both:!0

    //         });

    //         jQuery(document).ready(function(){IONRangeSlider.init()});

    // });

    var IONRangeSlider = { init: function() { $("#m_slider_1").ionRangeSlider(), $("#m_slider_2").ionRangeSlider({ min: 100, max: 1e3, from: 550 }), $("#m_slider_3").ionRangeSlider({ type: "double", grid: !0, min: 0, max: 1e3, from: 200, to: 800, prefix: "$" }), $("#m_slider_4").ionRangeSlider({ type: "double", grid: !0, min: -1e3, max: 1e3, from: -500, to: 500 }), $("#m_slider_5").ionRangeSlider({ type: "double", grid: !0, min: -12.8, max: 12.8, from: -3.2, to: 3.2, step: .1 }), $("#m_slider_6").ionRangeSlider({ type: "single", grid: !0, min: -90, max: 90, from: 0, postfix: "Â°" }), $("#m_slider_7").ionRangeSlider({ type: "double", min: 100, max: 200, from: 145, to: 155, prefix: "Weight: ", postfix: " million pounds", decorate_both: !0 }) } };
    jQuery(document).ready(function() { IONRangeSlider.init(); });

});





$(function()

    {

        // start : select all  recod for delete and send email //

        $(document).on('click', '#ckbCheckAll', function(e)

            {

                $(".checkBoxClass").prop('checked', $(this).prop("checked"));

                var favoriteDelete = ["delete"];

                $.each($("input[name='id']:checked"), function() {

                    favoriteDelete.push($(this).val());

                });

                var favoritePermDelete = ["permDelete"];

                $.each($("input[name='id']:checked"), function() {

                    favoritePermDelete.push($(this).val());

                });

                var favoriteEmail = ["email"];

                $.each($("input[name='id']:checked"), function() {

                    favoriteEmail.push($(this).val());

                });



                var favoriteAssign = ["assignUser"];

                $.each($("input[name='id']:checked"), function() {

                    favoriteAssign.push($(this).val());

                });



                if (this.checked) {

                    // Enable #x

                    $("#checkedAction").prop("disabled", false);

                    $('.checked_action').addClass('activeData');

                } else {

                    $('.checked_action').removeClass('activeData');

                    // Disable #x

                    $("#checkedAction").prop("disabled", true);

                }



                var ChackedValuesDelete = favoriteDelete.join(", ");

                var ChackedValuesEmail = favoriteEmail.join(", ");

                var ChackedValuesAssign = favoriteAssign.join(",");
                var ChackedValuesPermDelete = favoritePermDelete.join(",");


                $('#sendEmail').val(ChackedValuesEmail);

                $('#deleteRows').val(ChackedValuesDelete);

                $('#AssignUser').val(ChackedValuesAssign);

                $('#permanentDeleteRows').val(ChackedValuesPermDelete);


            })

        // end : select all recod for delete and send email //





        // start : select single recod for delete and send email //

        $(document).on('click', '.checkBoxClass', function(e)

            {

                if (this.checked) {

                    // Enable #x

                    $("#checkedAction").prop("disabled", false);

                    $('.checked_action').addClass('activeData');

                } else {

                    $('.checked_action').removeClass('activeData');

                    // Disable #x

                    $("#checkedAction").prop("disabled", true);

                }



                var favoriteDelete = ["delete"];

                $.each($("input[name='id']:checked"), function() {

                    favoriteDelete.push($(this).val());

                    $("#checkedAction").prop("disabled", false);

                    $('.checked_action').addClass('activeData');

                });

                var favoritePermDelete = ["permDelete"];

                $.each($("input[name='id']:checked"), function() {

                    favoritePermDelete.push($(this).val());

                });


                var favoriteEmail = ["email"];

                $.each($("input[name='id']:checked"), function() {

                    favoriteEmail.push($(this).val());

                    $("#checkedAction").prop("disabled", false);

                    $('.checked_action').addClass('activeData');

                });



                var favoriteAssign = ["assignUser"];

                $.each($("input[name='id']:checked"), function() {

                    favoriteAssign.push($(this).val());

                    $("#checkedAction").prop("disabled", false);

                    $('.checked_action').addClass('activeData');

                });





                var ChackedValuesDelete = favoriteDelete.join(",");

                var ChackedValuesEmail = favoriteEmail.join(",");

                var ChackedValuesAssign = favoriteAssign.join(",");

                var ChackedValuesPermDelete = favoritePermDelete.join(",");


                $('#sendEmail').val(ChackedValuesEmail);

                $('#deleteRows').val(ChackedValuesDelete);

                $('#AssignUser').val(ChackedValuesAssign);

                $('#permanentDeleteRows').val(ChackedValuesPermDelete);


            })

        // end : select single recod for delete and send email //



        $(document).on('change', '#checkedAction', function(e)

            {

                var deactivateids = this.value;

                var arr = deactivateids.split(",");

                var fst = arr.splice(0, 1).join("");

                var rest = arr.join(",");

                if (fst == "delete") {

                    var toBeDelete = 'deleteThis=' + rest;

                    var answer = confirm("Are you sure you want to delete record ?");

                    ajax.url = window.baseUrl + 'lead/deleteOpportunity';

                    if (answer) {

                        $.ajax({

                            type: "POST",

                            url: ajax.url,

                            data: toBeDelete,

                            success: function(data) {

                                window.location.reload();

                            },

                            error: function() { alert("Error Deleting User."); }

                        });

                    } else {

                        window.location.reload();

                    }

                } else if (fst == "permDelete") {

                    var toBeDelete = 'deleteThis=' + rest;
                    var answer = confirm("Are you sure you want to delete record Permanently!");

                    ajax.url = window.baseUrl + 'lead/permDeleteOpportunity';

                    if (answer) {

                        $.ajax({

                            type: "POST",

                            url: ajax.url,

                            data: toBeDelete,

                            success: function(data) {
                                window.location.reload();

                            },

                            error: function() { alert("Error Deleting User."); }

                        });

                    } else {

                        window.location.reload();

                    }

                } else if (fst == "email") {

                    var toBeDelete = 'getEmail=' + rest;

                    ajax.url = window.baseUrl + 'lead/getEmailIds';



                    $.ajax({

                        type: "POST",

                        url: ajax.url,

                        data: toBeDelete,

                        success: function(data) {

                            $('#role_new_modal').modal('show');

                            $('#emailIdUsr').val(data);

                        },

                        error: function()

                        {

                            alert("Error Deleting User.");

                        }



                    });



                } else {

                    //assignUser

                    ajax.url = window.baseUrl + 'lead/getSalesPersonList';

                    var datastring = 'leadId=' + rest;

                    $.ajax({

                        type: "POST",

                        url: ajax.url,

                        data: datastring,

                        success: function(data) {

                            $('#role_new_modal').modal('show');

                            $('#salesperson').html(data);

                        },

                        error: function()

                        {

                            alert("Error Deleting User.");

                        }



                    });

                }

            })





        $(document).on('click', '#sendmailtousers', function(e)

            {
                e.preventDefault();

                var userEmail = $("#emailIdUsr").val();

                var userSubject = $("#emailSubject").val();

                var userMessage = $("#msgEeditor").html();



                var dataString = 'usrEmail=' + userEmail + '&usrSub=' + userSubject + '&usrMsg=' + userMessage

                //  alert(dataString);

                ajax.url = window.baseUrl + 'lead/sendBulkEmail';

                //   alert(ajax.url);

                $.ajax({

                    type: "POST",

                    url: ajax.url,

                    data: dataString,

                    success: function(data) {

                        if (data == '200') {

                            var msg = "<div class='alert alert-success'><strong>Success!</strong> Email Send Successfully</div>";

                            $('#validation_errors').html(msg);

                            window.location.reload();

                        } else {

                            $('#validation_errors').html(data);

                        }

                        window.location.reload();

                    },

                    error: function()

                    {

                        alert("Error Deleting User.");

                    }

                    // error: function() { alert("Error Deleting User."); }



                });



            })

    });





$(document).ready(function() {

    $("#txtEditor").Editor();

});



$(function()

    {

        $(document).on('click', '#savefilter', function(e)

            {

                $('#mySaveFilterModal').modal('show');

            })

        $(document).on('click', '#saveMyFilter', function(e) {
            $('#mySaveFilterModal').modal('show');
            var filterName = $("#filter_name").val();
            var CustName = $("#filterCustName").val();
            var CompName = $("#filterCompName").val();
            var salesPeople = $("#filter_sales_people").val();
            var filterStatus = $("#filterStatus").val();
            var filterAge = $("#filterAge").val();
            var projsalesdate = $("#filter_projected_sales_date").val();

            var dataString = 'filterName=' + filterName + '&CustName=' + CustName + '&CompName=' + CompName + '&salesPeople=' + salesPeople + '&filterStatus=' + filterStatus + '&filterAge=' + filterAge + '&projsalesdate=' + projsalesdate;
            ajax.url = window.baseUrl + 'lead/savefilter';
            $.ajax({
                type: "POST",
                url: ajax.url,
                data: dataString,
                success: function(data) {
                    var newData = JSON.parse(data);
                    if (newData.code == '200') {
                        $('#validation_errors_filter_message').html(newData.message);
                        $("#filter_name").val("");
                        closeSaveFilter();

                        //window.location.reload();
                    } else {
                        $('#validation_errors_filter_message').html(newData.message);
                    }
                },
                error: function() { alert("Error Deleting User."); }

            });
        })

    });



$(function()

    {

        $(document).on('change', '#filterListData', function(e)

            {

                var filterResult = this.value;

                var arr = filterResult.split(",");

                var fst = arr.splice(0, 1).join("");

                var rest = arr.join(",");

                obj = JSON.parse(rest);



                var CustName = obj.CustName;

                var salesPeople = obj.salesPeople;

                var filterStatus = obj.filterStatus;

                var filterAge = obj.filterAge;

                var projsalesdate = obj.projsalesdate;



                $('#filterCustName').val(CustName);

                $('#filter_sales_people').val(salesPeople);

                $('#filterStatus').val(filterStatus);

                $('#filterAge').val(filterAge);

                $('#filter_projected_sales_date').val(projsalesdate);

                $('#saved_filter_id').val(fst);



            })

    });





$(function()

    {

        $(document).on('click', '#m_datepicker_4_2', function(e)

            {

                var element = document.getElementById("m_datepicker_modal");

                var child = document.getElementById("m_datepicker_4_2");

                //$('#follow-up-date').append('<input type="text" id="calenderscheduleOne" name="calenderDatesFollowUp"/>'); //add input box

                element.removeChild(child);

                // var datepicker = new ej.calendars.DatePicker({ width: "255px" });

                //      datepicker.appendTo('#calenderscheduleOne');



            });

    });



$(function()

    {

        $(document).on('click', '#m_datepicker_4_3', function(e)

            {

                var element = document.getElementById("opportunity_project");

                var child = document.getElementById("m_datepicker_4_3");

                $('#opportunity_project').append('<input type="text" id="calenderscheduleTet" name="calenderDatesFollowUp"/>'); //add input box

                element.removeChild(child);

                var datepicker = new ej.calendars.DatePicker({ width: "255px" });

                datepicker.appendTo('#calenderscheduleTet');



            });

    });



$(function()

    {

        $(document).on('click', '#m_datepicker_44_2', function(e)

            {

                var element = document.getElementById("opportunity_project");

                var child = document.getElementById("m_datepicker_44_2");

                $('#opportunity_project').append('<input type="text" id="calenderscheduleTet" name="calenderDatesFollowUp"/>'); //add input box

                element.removeChild(child);

                var datepicker = new ej.calendars.DatePicker({ width: "255px" });

                datepicker.appendTo('#calenderscheduleTet');



            });

    });



$(function()

    {

        $(document).on('keyup', '#myInput', function(e) {

            var value = $(this).val().toLowerCase();

            $("#myTable tr").filter(function() {

                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)

            });

        });

    });



$(function() {

    var x1 = 1; //initlal text box count

    $(document).on('click', '#usrContactAdd', function(e)

        {

            var wrapper_property = $("#cloneThisCt"); //Fields wrapper

            var add_button_property = $("#usrContactAdd"); //Add button ID                 

            x1++; //text box increment

            $(wrapper_property).append('<div><div class="entry input-group form-group  m-form__group row"><div class=" col-lg-4 col-md-4 col-sm-12"><input type="text" name="contact_detail[]" class="form-control m-input"></div><div class=" col-lg-4 col-md-4 col-sm-12"><select class="form-control" id="m_notify_state" name="contact_type[]" style="height: 30px !important"><option value="success">Email</option><option value="danger">Phone</option></select></div></div>' + '<a href="#" id="remove" style="float:right;margin-top:-35px; margin-right:30%;position:relative; z-index:2"><span class="input-group-btn"><button type="button" class="btn-sm btn m-btn--icon btn-remove btn-danger"><span> <i class="la la-remove" style="height:14px"></i> <span></span></span></button></span></a></div>');

        });



});



$(document).on("click", "#remove", function(e) {

    e.preventDefault();

    $(this).parent('div').remove();

    x1--;

});





$(document).on("change", "#leadGeneralpeople", function(e) {

    var confidenceValue = $("#getConfidenceVAlue").html();

    $("#confidence").val(confidenceValue);

});





function saveLeadForm() {

    var confidenceValue = $("#getConfidenceVAlue").html();

    $("#confidence").val(confidenceValue);

    var form_data = $('#feedInput2222').serialize();

    $.ajax({

        url: "lead/create/leadopportunity/",

        method: "POST",

        data: form_data,

        success: function(data) {

            var newData = JSON.parse(data);

            console.log(newData.error);

            if (newData.error) {

                $("#validation_errors_update_opportunity").html(newData.error);

            } else {

                window.location.reload();

            }

        }

    });

}



function closeSaveFilter() {

    $('#mySaveFilterModal').modal('hide');

    ajax.url = 'lead/getSavedFilterDropdown';

    dataString = 'lead=lead';

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            $('#getFilter').html(data);

        },

        error: function() { alert("Error Deleting User."); }



    });

}



$(document).on('click', '#sameAddress', function(e) {

    var isCheck = this.checked;

    var city = $('#LeadUsrCity').val();

    var country = $('#add_country').find(":selected").val();

    if (city != '' && country != '') {

        var res = country.split("-");

        if (isCheck) {

            $('#leadGeneralAddress').val($('#LeadUsrAdd').val());

            $('#leadGeneralCityName').val($('#LeadUsrCity').val());

            $('#leadGeneralStateName').val($('#LeadUsrState').val());

            $('#leadGeneralZipNumber').val($('#LeadUsrPin').val());

            $('#leadGeneralCountryNumber').val(res[0]);

        } else {

            //-------Remove Values-----------------

            $('#leadGeneralAddress').val('');

            $('#leadGeneralCityName').val('');

            $('#leadGeneralStateName').val('');

            $('#leadGeneralZipNumber').val('');

            $('#leadGeneralCountryNumber').val('');

        }

    } else {

        $("#sameAddress").prop("checked", false);

        $('#address_query').html('Address is incomplete ! City & Country is required');

    }



});



$(document).on("click", "#newActivity", function(e) {

    var value = $('#lead_opportunity_id').val();

    var getVal = $("#statMsg").val();

    if (value == '') {

        $('#oppMsg').html('Please Create Lead Inquiry First !');

    } else {

        ajax.url = 'lead/get/Activity';

        dataString = 'lead_opportunity_id=' + value + '&value=' + getVal;

        $.ajax({

            type: "POST",

            url: ajax.url,

            data: dataString,

            success: function(data) {

                if (getVal == 'ShowAdd') {

                    $('#newActivity').html('View Activities');

                    $('#statMsg').val('ShowData');

                } else {

                    $('#newActivity').html('Schedule New Activity');

                    $('#statMsg').val('ShowAdd');

                }

                $('#activityTemplate').html(data);

                CKEDITOR.replace('message');

                $('.datepicker').datepicker({

                    autoclose: true,

                    format: "dd/MM/yyyy",

                });

            },

            error: function() { alert("Error Deleting User."); }



        });

    }

});



$(document).on("click", "#newProposal", function(e) {

    var value = $('#lead_opportunity_id').val();

    var getVal = $("#statMsg2").val();

    if (value == '') {

        $('#oppMsg2').html('Please Create Lead Inquiry First !');

    } else {

        ajax.url = 'lead/get/proposal';

        dataString = 'lead_opportunity_id=' + value + '&value=' + getVal;

        $.ajax({

            type: "POST",

            url: ajax.url,

            data: dataString,

            success: function(data) {

                if (getVal == 'ShowAdd') {

                    $('#newProposal').html('View Proposals');

                    $('#statMsg2').val('ShowData');

                } else {

                    $('#newProposal').html('New Proposal');

                    $('#statMsg2').val('ShowAdd');

                }

                $('#proposalTemplate').html(data);

                CKEDITOR.replace('format_header');

                CKEDITOR.replace('format_footer');

            },

            error: function() { alert("Error Deleting User."); }



        });

    }

});



$(document).on('click', '#updateButton', function(e) {

    $('#showModal').modal("show");

    $("#showModal").addClass("show");

    $('#showModal').show();

});



$(document).on('click', '#addButton', function(e) {

    $('#addModal').modal("show");

    $("#addModal").addClass("show");

    $('#addModal').show();

});



$(document).on('click', '#importButton', function(e) {

    $('#import_excel_modal').modal("show");

    $("#import_excel_modal").addClass("show");

    $('#import_excel_modal').show();

});



$(document).on('click', '#closeItemButton', function(e) {

    $('#addModal').modal("hide");

    $("#addModal").removeClass("show");

    $('#addModal').hide();

    // var fk_pid = $("#lead_opportunity_id").val();

    var fk_pid = $("#p_id").val();

    datastring = { fk_pid: fk_pid };

    table.proposalPopupTable(datastring);



});



function getAmountstructure(amt) {

    var str = amt.toString().split('.');

    if (str[0].length >= 4) {

        //add comma every 3 digits befor decimal

        str[0] = str[0].replace(/(\d)(?=(\d{3})+$)/g, '$1,');

    }

    var result = str.join('.');

    return result;

}



$(document).on('keyup', '#lead_opportunity', function(e) {

    var lead_opportunity = $("#lead_opportunity").val();

    datastring = 'lead_opportunity=' + lead_opportunity;

    $.ajax({

        type: "POST",

        url: window.baseUrl + "Proposal/get/leadOpportunity",

        data: datastring,

        dataType: "html",

        success: function(data) {

            if (data) {

                $('#getLO').html(data);

            }

        },

        error: function() { alert("Error posting feed."); }

    });

});





//----- Unit Price Ex Factory Start-------------------------------

$(document).on('change', '#add_unit_price_markup', function(e) {

    var val = $('#add_unit_price_markup option:selected').text();

    var unit_cost = $("#ex_factory_unit_price").val();

    var quantity = $("#add_quantity").val();

    if (quantity == '') {

        $('#quantity_alert').html('<b>First Add Quantity.</b>');

        $("#add_ex_factory_unit_price_alert").val('');

        $("#add_unit_price_markup").prop('selectedIndex', 0);

        return false;

    }

    if (unit_cost == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('<b>Add Unit Cost.</b>');

        $('#add_unit_price_markup').prop('selectedIndex', 0);

        return false;

    }



    $('#quantity_alert').html('');

    $('#unit_cost_alert').html('');

    $("#add_ex_factory_total_markup").attr("readonly", false);

    $('#unit_price_markup1').val(val);

    // $('#add_ex_factory_mark_up_amt').val('');

    // $('#add_ex_factory_total_markup').val('');

    // $('#add_total_price_ex_factory').val('');

});



function getExFactoryTotalMarkup() {

    var unit_cost = $("#add_ex_factory_unit_price").val();

    var unit_cost_ex_markup = $("#add_ex_factory_mark_up_amt").val();

    var unit_cost_markup = $("#add_unit_price_markup").val();

    // alert(unit_cost);

    var quantity = $("#add_quantity").val();

    //alert(quantity);

    var unit_price_markup = $('#unit_price_markup1').val();

    //alert(unit_price_markup);

    if (unit_cost_markup && unit_cost_ex_markup)

    {

        if (quantity == '') {

            $('#quantity_alert').html('<b>First Add Quantity.</b>');

            $("#add_ex_factory_unit_price_alert").val('');

            $("#add_unit_price_markup").prop('selectedIndex', 0);

            return false;

        } else {

            $('#quantity_alert').html('');

        }



        if (unit_cost == '') {

            $('#quantity_alert').html('');

            $('#add_ex_factory_unit_price_alert').html('<b>Add Unit Cost.</b>');

            $('#add_unit_price_markup').prop('selectedIndex', 0);

            return false;

        } else {

            $('#add_ex_factory_unit_price_alert').html('');

        }





        if (unit_price_markup == '%') {

            var amt = unit_cost * (unit_cost_ex_markup / 100);

        } else if (unit_price_markup == '$/unit') {

            var amt = quantity * unit_cost_ex_markup;

        } else if (unit_price_markup == 'Total Markup') {

            var amt = quantity * unit_cost + + +unit_cost_ex_markup;

        }



        var total_ex_factory = amt + +quantity * unit_cost;

        var ex_factory_markup = getAmountstructure(amt);

        var total_ex_factory_amt = getAmountstructure(total_ex_factory);

        //var owner_price = ;

        $("#add_ex_factory_total_markup").val(ex_factory_markup);

        $("#add_total_price_ex_factory").val(total_ex_factory_amt);

    }

}



//----- Unit Price Ex Factory End-------------------------------



//----- Fabric MArkup Start-------------------------------

$(document).on('change', '#add_fabric_markup', function(e) {

    var val = $('#add_fabric_markup option:selected').text();

    var unit_cost = $("#add_fabric_price").val();

    var quantity = $("#fabric_quantity").val();

    if (quantity == '') {

        $('#add_fabric_quantity_alert').html('<b>First Add Fabrics Quantity.</b>');

        $("#add_fabric_price_alert").val('');

        $("#add_fabric_markup").prop('selectedIndex', 0);

        return false;

    } else if (unit_cost == '') {

        $('#add_fabric_quantity_alert').html('');

        $('#add_fabric_price_alert').html('<b>Add Fabrics Cost.</b>');

        $('#add_fabric_markup').prop('selectedIndex', 0);

        return false;

    }



    $('#add_fabric_quantity_alert').html('');

    $('#add_fabric_price_alert').html('');

    $('#unit_price_markup2').val(val);

    // $('#add_fabric_mark_up_amt').val('');

    // $('#add_fabrics_total_markup').val('');

    // $('#add_unit_total_price_fabric').val('');

});



function getFabricsTotalMarkup() {

    var unit_cost = $("#add_fabric_price").val();

    //alert(unit_cost);

    var quantity = $("#add_fabric_quantity").val();

    //alert(quantity);

    var unit_price_markup = $('#unit_price_markup2').val();

    var add_fabric_markup = $('#add_fabric_markup').val();

    var fabric_markup_amt = $('#add_fabric_mark_up_amt').val();

    //alert(unit_price_markup);

    if (add_fabric_markup && fabric_markup_amt)

    {

        if (quantity == '') {

            $('#add_fabric_quantity_alert').html('<b>First Add Quantity.</b>');

            $("#add_fabric_price_alert").val('');

            $("#add_fabric_markup").prop('selectedIndex', 0);

            return false;

        }

        if (unit_cost == '') {

            $('#add_fabric_quantity_alert').html('');

            $('#add_fabric_price_alert').html('<b>Add Unit Cost.</b>');

            $('#add_fabric_markup').prop('selectedIndex', 0);

            return false;

        }

        $('#add_fabric_quantity_alert').html('');

        $('#add_fabric_price_alert').html('');

        if (unit_price_markup == '%') {

            var amt = unit_cost * (fabric_markup_amt / 100);

        } else if (unit_price_markup == '$/unit') {

            var amt = quantity * fabric_markup_amt;

        } else if (unit_price_markup == 'Total Markup') {

            var amt = quantity * unit_cost + + +fabric_markup_amt;

        }

        var total_ex_factory = amt + +quantity * unit_cost;

        var ex_factory_markup = getAmountstructure(amt);

        var total_ex_factory_amt = getAmountstructure(total_ex_factory);

        //var owner_price = ;

        $("#add_fabrics_total_markup").val(ex_factory_markup);

        $("#add_unit_total_price_fabric").val(total_ex_factory_amt);

    }

}



//----- Fabric MArkup End-------------------------------



//----- Leather Markup Start-------------------------------



$(document).on('change', '#leather_markup', function(e) {

    var val = $('#leather_markup option:selected').text();

    var unit_cost = $("#add_leather_price").val();

    var quantity = $("#add_leather_quantity").val();

    if (quantity == '') {

        $('#add_leather_quantity_alert').html('<b>First Add Leather Quantity.</b>');

        $("#add_leather_price_alert").val('');

        $("#leather_markup").prop('selectedIndex', 0);

        return false;

    }

    if (unit_cost == '') {

        $('#add_leather_quantity_alert').html('');

        $('#add_leather_price_alert').html('<b>Add Leather Cost.</b>');

        $('#leather_markup').prop('selectedIndex', 0);

        return false;

    }



    $('#add_leather_quantity_alert').html('');

    $('#add_leather_price_alert').html('');

    $('#unit_price_markup3').val(val);

    // $('#add_leather_mark_up_amt').val('');

    // $('#add_leather_total_markup').val('');

    // $('#add_unit_total_price_leather').val('');

});



function getLeatherTotalMarkup() {

    var unit_cost = $("#add_leather_quantity").val();

    // alert(unit_cost);

    var quantity = $("#add_leather_price").val();

    var leather_markup = $("#leather_markup").val();

    var add_leather_mark_up_amt = $("#add_leather_mark_up_amt").val();

    // alert(quantity);

    var unit_price_markup = $('#unit_price_markup3').val();

    // alert(unit_price_markup);

    if (leather_markup && add_leather_mark_up_amt)

    {

        if (quantity == '') {

            $('#add_leather_quantity_alert').html('<b>First Add Quantity.</b>');

            $("#add_leather_price_alert").val('');

            $("#leather_markup").prop('selectedIndex', 0);

            return false;

        } else { $('#add_leather_quantity_alert').html(''); }

        if (unit_cost == '') {

            $('#add_leather_quantity_alert').html('');

            $('#add_leather_price_alert').html('<b>Add Unit Cost.</b>');

            $('#leather_markup').prop('selectedIndex', 0);

            return false;

        } else {

            $('#add_leather_price_alert').html('');

        }



        if (unit_price_markup == '%') {

            var amt = unit_cost * (add_leather_mark_up_amt / 100);

        } else if (unit_price_markup == '$/unit') {

            var amt = quantity * add_leather_mark_up_amt;

        } else if (unit_price_markup == 'Total Markup') {

            var amt = quantity * unit_cost + + +add_leather_mark_up_amt;

        }

        var total_ex_factory = amt + +quantity * unit_cost;

        var ex_factory_markup = getAmountstructure(amt);

        var total_ex_factory_amt = getAmountstructure(total_ex_factory);

        //var owner_price = ;

        $("#add_leather_total_markup").val(ex_factory_markup);

        $("#add_unit_total_price_leather").val(total_ex_factory_amt);

    }

}

//----- Leather Markup End-------------------------------



//------Total Price FOB-----------------------

function getFOB(val) {

    var unit_cost = $("#ex_factory_unit_price").val();

    var quantity = $("#add_quantity").val();

    var total_price_ex_factory = $('#add_total_price_ex_factory').val();

    total_price_ex_factory = total_price_ex_factory.replace(",", "");

    if (quantity == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('<b>Add Quantity.</b>');

        $('#add_unit_price_fob_alert').html('<b>Add Quantity in Ex Factory Section.</b>');

        $('#quantity_alert').focus();

        $('#add_unit_price_markup').prop('selectedIndex', 0);

        return false;

    }

    if (unit_cost == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('<b>Add Unit Cost.</b>');

        $('#add_unit_price_fob_alert').html('<b>Add Unit Price in Ex Factory Section.</b>');

        $('#add_ex_factory_unit_price').focus();

        $('#add_unit_price_markup').prop('selectedIndex', 0);

        return false;

    }

    if (total_price_ex_factory == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('');

        $('#add_unit_price_fob_alert').html('<b>Need To Set Total Price Ex Factory.</b>');

        $('#total_price_ex_factory_alert').html('<b>Required to get Total FOB.</b>');

        $('#add_unit_price_markup').prop('selectedIndex', 0);

    }

    $('#quantity_alert').html('');

    $('#add_ex_factory_unit_price_alert').html('');

    $('#total_price_ex_factory_alert').html('');

    $('#add_unit_price_fob_alert').html('');



    var fob = (val * quantity) + + +total_price_ex_factory;

    //var owner_price = ;

    fob = getAmountstructure(fob);

    $("#add_total_price_fob").val(fob);

}

//------Total Price FOB End-------------------



//------Total Price CIF-----------------------

function getCIF(val) {

    var unit_cost = $("#ex_factory_unit_price").val();

    var quantity = $("#add_quantity").val();

    var total_price_ex_factory = $('#add_total_price_ex_factory').val();

    total_price_ex_factory = total_price_ex_factory.replace(",", "");

    if (quantity == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('<b>Add Quantity.</b>');

        $('#add_unit_price_cif_alert').html('<b>Add Quantity in Ex Factory Section.</b>');

        $('#add_unit_price_markup').prop('selectedIndex', 0);

        return false;

    } else if (unit_cost == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('<b>Add Unit Cost.</b>');

        $('#add_unit_price_cif_alert').html('<b>Add Unit Price in Ex Factory Section.</b>');

        $('#add_unit_price_markup').prop('selectedIndex', 0);

        return false;

    } else if (total_price_ex_factory == '') {

        $('#quantity_alert').html('');

        $('#add_ex_factory_unit_price_alert').html('');

        $('#total_price_ex_factory_alert').html('<b>Required to get Total CIF.</b>');

        $('#add_unit_price_cif_alert').html('<b>Need To Set Total Price Ex Factory.</b>');

        $('#add_unit_price_markup').prop('selectedIndex', 0);

    }

    $('#quantity_alert').html('');

    $('#add_ex_factory_unit_price_alert').html('');

    $('#total_price_ex_factory_alert').html('');

    $('#add_unit_price_cif_alert').html('');



    var CIF = (val * quantity) + + +total_price_ex_factory;

    CIF = getAmountstructure(CIF);

    //var owner_price = ;

    $("#add_total_price_cif").val(CIF);

}

//------Total Price CIF End-------------------



function AddLeadItem() {
    alert('UUUUU');



    var room_type = $("#add_room_type").val();

    var add_id_code = $("#add_id_code").val();

    var add_item_type = $("#add_item_type").val();

    var add_item_name = $("#add_item_name").val();

    // var add_width = $("#add_width").val();

    // var depth = $("#add_depth").val();

    // var height = $("#add_material").val();

    // var add_short_height = $("#add_short_height").val();

    // var add_technical_description = $("#add_technical_description").val();

    // var add_quantity = $("#add_quantity").val();

    // var add_ex_factory_unit_price = $("#add_ex_factory_unit_price").val();

    // var add_unit_price_markup = $("#unit_price_markup1").val();

    // var add_ex_factory_mark_up_amt = $("#add_ex_factory_mark_up_amt").val();

    // var add_ex_factory_total_markup = $("#add_ex_factory_total_markup").val();

    // var add_total_price_ex_factory = $("#add_total_price_ex_factory").val();

    // var add_fabric_quantity = $("#add_fabric_quantity").val();

    // var add_fabric_price = $("#add_fabric_price").val();

    // var add_fabric_markup = $("#unit_price_markup2").val();

    // var add_fabric_mark_up_amt = $("#add_fabric_mark_up_amt").val();

    // var add_fabrics_total_markup = $("#add_fabrics_total_markup").val();

    // var add_unit_total_price_fabric = $("#add_unit_total_price_fabric").val();

    // var add_leather_quantity = $("#add_leather_quantity").val();

    // var add_leather_price = $("#add_leather_price").val();

    // var leather_markup = $("#unit_price_markup3").val();

    // var add_leather_mark_up_amt = $("#add_leather_mark_up_amt").val();

    // var add_leather_total_markup = $("#add_leather_total_markup").val();

    // var add_unit_total_price_leather = $("#add_unit_total_price_leather").val();

    // var add_unit_price_fob = $("#add_unit_price_fob").val();

    // var add_unit_price_cif = $("#add_unit_price_cif").val();

    // var add_total_price_fob = $("#add_total_price_fob").val();

    // var add_total_price_cif = $("#add_total_price_cif").val();

    // var cbm = $("#add_percentage_units").val();

    // var note = $("#add_note").val();

    // var fk_pid = $("#fk_pid").val();



    var form_data = new FormData();

    //form_data.append("photo", document.getElementById('add_photo').files[0]);

    alert(room_type);

    alert(add_id_code);

    alert(add_item_type);

    alert(add_item_name);

    form_data.append("room_type", room_type);

    form_data.append("id_code", add_id_code);

    form_data.append("item_type", add_item_type);

    form_data.append("item_name", add_item_name);

    // form_data.append("width", add_width);

    // form_data.append("depth", depth);

    // form_data.append("height", height);

    // form_data.append("short_height", add_short_height);

    // form_data.append("technical_description", add_technical_description);

    // form_data.append("quantity", add_quantity);

    // form_data.append("ex_factory_unit_price", add_ex_factory_unit_price);

    // form_data.append("unit_price_markup", add_unit_price_markup);

    // form_data.append("ex_factory_mark_up_amt", add_ex_factory_mark_up_amt);

    // form_data.append("ex_factory_total_markup", add_ex_factory_total_markup);

    // form_data.append("total_price_ex_factory", add_total_price_ex_factory);

    // form_data.append("fabric_quantity", add_fabric_quantity);

    // form_data.append("fabric_price", add_fabric_price);

    // form_data.append("fabric_markup", add_fabric_markup);

    // form_data.append("fabric_mark_up_amt", add_fabric_mark_up_amt);

    // form_data.append("fabrics_total_markup", add_fabrics_total_markup);

    // form_data.append("unit_total_price_fabric", add_unit_total_price_fabric);

    // form_data.append("leather_quantity", add_leather_quantity);

    // form_data.append("leather_price", add_leather_price);

    // form_data.append("leather_markup", leather_markup);

    // form_data.append("leather_mark_up_amt", add_leather_mark_up_amt);

    // form_data.append("leather_total_markup", add_leather_total_markup);

    // form_data.append("unit_total_price_leather", add_unit_total_price_leather);

    // form_data.append("unit_price_fob", add_unit_price_fob);

    // form_data.append("unit_price_cif", add_unit_price_cif);

    // form_data.append("total_price_fob", add_total_price_fob);

    // form_data.append("total_price_cif", add_total_price_cif);

    // form_data.append("cbm", note);

    // form_data.append("note", note);

    // form_data.append("fk_pid", fk_pid);

    //console.log(document.getElementById('customFile').files[0]);

    console.log(form_data);

    alert(form_data);



    // $.ajax({

    //     type: "POST",

    //     url: 'lead/addWorksheetsdfsdfd',

    //     data: form_data,

    //     success: function (data) {

    //       console.log(data);

    // var newData = JSON.parse(data);

    // $('#itemSuccessMessage').html(newData.message);

    //     $("#add_room_type").val('');

    //     $("#add_id_code").val('');

    //     $("#add_item_type").val('');

    //     $("#add_item_name").val('');

    //     $("#add_width").val('');

    //     $("#add_depth").val('');

    //     $("#add_material").val('');

    //     $("#add_short_height").val('');

    //     $("#add_technical_description").val('');

    //     $("#add_quantity").val('');

    //     $("#add_ex_factory_unit_price").val('');

    //     $("#unit_price_markup1").val('');

    //     $("#add_ex_factory_mark_up_amt").val('');

    //     $("#add_ex_factory_total_markup").val('');

    //     $("#add_total_price_ex_factory").val('');

    //     $("#add_fabric_quantity").val('');

    //     $("#add_fabric_price").val('');

    //     $("#add_fabric_mark_up_amt").val('');

    //     $("#add_fabrics_total_markup").val('');

    //     $("#unit_price_markup2").val('');

    //     $("#add_unit_total_price_fabric").val('');

    //     $("#add_leather_quantity").val('');

    //     $("#add_leather_price").val('');

    //     $("#unit_price_markup3").val('');

    //     $("#add_leather_mark_up_amt").val('');

    //     $("#add_leather_total_markup").val('');

    //     $("#add_unit_total_price_leather").val('');

    //     $("#add_unit_price_fob").val('');

    //     $("#add_unit_price_cif").val('');

    //     $("#add_total_price_fob").val('');

    //     $("#add_total_price_cif").val('');

    //     $("#add_percentage_units").val('');

    //     $("#add_note").val('');

    //     }

    // });

}



function getActivities() {

    ajax.url = 'lead/getLeadActivityView';

    var loi = $("#priLeadOppId").val();

    dataString = 'activity=activity&lead_opportunity_id=' + loi;

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            $('#m_portlet_base_demo_2_tab_content').html(data);

        },

        error: function() { alert("Error Deleting User."); }



    });

}



function getProposals() {

    ajax.url = 'lead/getLeadProposalView';

    var loi = $("#priLeadOppId").val();

    dataString = 'proposal=proposal&lead_opportunity_id=' + loi;

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            $('#m_portlet_base_demo_3_tab_content').html(data);

        },

        error: function() { alert("Error Deleting User."); }



    });

}



function getFiles() {

    ajax.url = 'lead/getLeadActivityFilesView';

    var loi = $("#priLeadOppId").val();

    dataString = 'files=files&lead_opportunity_id=' + loi;

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            $('#m_portlet_base_demo_4_tab_content').html(data);

        },

        error: function() { alert("Error Deleting User."); }



    });

}



function getItems(p_id) {

    var getVal = $("#statMsg").val();

    ajax.url = 'lead/getProposalItemList';

    dataString = 'proposal=proposal&p_id=' + p_id + '&value=' + getVal;

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            if (getVal == 'ShowAdd') {

                $('#newActivity').html('View Proposals');

                $('#statMsg').val('ShowData');

            }

            $('#m_portlet_base_demo_3_tab_content').html(data);

            CKEDITOR.replace('format_header');

            CKEDITOR.replace('format_footer');

        },

        error: function() { alert("Error Deleting User."); }



    });

}



function printDiv() {

    var printContents = document.getElementById('printdiv').innerHTML;

    var originalContents = document.body.innerHTML;

    document.body.innerHTML = printContents;

    window.print();

    document.body.innerHTML = originalContents;

}



$(document).on("click", "#approveButton", function(e) {

    var p_id = $("#p_id").val();

    datastring = 'p_id=' + p_id;

    check = confirm("Are you sure, you want to release this proposal ?");

    if (check) {

        $.ajax({

            type: "POST",

            url: window.baseUrl + "lead/set/status/Released",

            data: datastring,

            dataType: "html",

            beforeSend: function() {

                $('#approveButton').html("Releasing...");

            },

            success: function(data) {

                $('#approveButton').html('Released');

                $("#approveButton").attr("disabled", true);

            },

            error: function() { alert("Error posting feed."); }

        });

    } else {

        return false;

    }

});



$(document).on("click", "#saveNotes", function(e) {

    var value = $('#lead_opportunity_id').val();

    if (value == '') {

        $('#oppMsg3_1').html('');

        $('#oppMsg3').html('Please Create Lead Inquiry First !');

    } else {

        var leadNotes = $('#leadNotes').val();

        if (leadNotes == '') {

            $('#oppMsg3_1').html('');

            $('#oppMsg3').html('Notes Can Not Be Blank !');

        } else {

            ajax.url = 'lead/set/Notes';

            dataString = 'lead_opportunity_id=' + value + '&notes=' + leadNotes;

            $.ajax({

                type: "POST",

                url: ajax.url,

                data: dataString,

                beforeSend: function() {

                    $('#saveNotes').html("Saving...");

                },

                success: function(data) {

                    $('#saveNotes').html("Save");

                    $('#oppMsg3').html('');

                    $('#oppMsg3_1').html('Notes saved Successfully !');

                },

                error: function() { alert("Error Deleting User."); }



            });

        }

    }

});



function excelUpload() {

    var name = document.getElementById("customFile").files[0].name;

    var form_data = new FormData();

    var ext = name.split('.').pop().toLowerCase();

    if (jQuery.inArray(ext, ['xls', 'xlsx', 'csv']) == -1) {

        $('.excel-upload-response').html('Invalid Excel File');

        return false;

    }

    if (name == '' || name == 'undefined') {

        $('.excel-upload-response').html('Please Select File First.');

        return false;

    }

    var proposal_id = $('#fk_pid').val();

    form_data.append("uploadFile", document.getElementById('customFile').files[0]);

    //form_data.append("rfq_id", document.getElementById('rfq_id').value());

    //console.log(document.getElementById('customFile').files[0]);

    $.ajax({

        url: "proposal/importData/" + proposal_id,

        method: "POST",

        data: form_data,

        contentType: false,

        cache: false,

        processData: false,

        beforeSend: function() {

            $('#importExcel').html("Excel Uploading...");

            $('#importExcel').prop('disabled', true);

        },

        success: function(data) {

            var newData = JSON.parse(data);

            $('#importExcel').html("Upload");

            $('#validation_errors_upload_tab').html(newData.message);

            document.getElementById('customFile').files[0].reset();

            $('#importExcel').prop('disabled', false);

            // if (newData.code == 200) {

            //     window.location.reload();

            // }

        }

    });

}



$(document).on('click', '#addJobType', function(e) {

    var getVal = $("#getValue").val();

    ajax.url = 'lead/getJobType';

    dataString = 'value=' + getVal;

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            if (getVal == 'addNew') {

                $('#addJobType').html('Go Back ?');

                $('#getValue').val('goBack');

            } else {

                $('#addJobType').html('Add New ?');

                $('#getValue').val('addNew');

            }

            $('#replaceJobType').html(data);

        },

        error: function() { alert("Error Fetching Data."); }



    });



})



$(document).on('click', '#addSource', function(e) {

    var getVal = $("#getValueSource").val();

    ajax.url = 'lead/getSource';

    dataString = 'value=' + getVal;

    $.ajax({

        type: "POST",

        url: ajax.url,

        data: dataString,

        success: function(data) {

            if (getVal == 'addNew') {

                $('#addSource').html('Go Back ?');

                $('#getValueSource').val('goBack');

            } else {

                $('#addSource').html('Add New ?');

                $('#getValueSource').val('addNew');

            }

            $('#replaceSource').html(data);

        },

        error: function() { alert("Error Fetching Data."); }



    });



})